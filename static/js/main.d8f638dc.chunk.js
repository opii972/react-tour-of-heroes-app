(this["webpackJsonpreact-tour-of-heroes-app"]=this["webpackJsonpreact-tour-of-heroes-app"]||[]).push([[0],{44:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(35),d=n.n(r),i=n(12),o=n(4),s=n(9),u=n(64),j=n(63),b=n(61),l=n(62),f=n(18),O=n(17),h=n(22),v=n(57),x=n(58),m=n(59),p=n(60),g=n(0),C=c.a.createContext({}),H=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],d=c[1],i=function(){return d([])};Object(a.useEffect)((function(){r.length>=15&&i()}),[r.length]);var o={messages:r,add:function(e){return d([].concat(Object(O.a)(r),[e]))},clear:i};return Object(g.jsx)(C.Provider,{value:o,children:t})},S=c.a.createContext({}),N=function(e){var t=e.children,n=Object(a.useContext)(C).add,c=Object(a.useState)([{id:11,name:"Dr Nice"},{id:12,name:"Narco"},{id:13,name:"Bombasto"},{id:14,name:"Celeritas"},{id:15,name:"Magneta"},{id:16,name:"RubberMan"},{id:17,name:"Dynama"},{id:18,name:"Dr IQ"},{id:19,name:"Magma"},{id:20,name:"Tornado"}]),r=Object(s.a)(c,2),d=r[0],i=r[1],o={getHeroes:function(){return Object(u.a)(d).pipe(Object(v.a)((function(e){return b("fetched heroes")})))},getHero:function(e){return Object(h.a)(d).pipe(Object(x.a)((function(t){return t.id===e})),Object(v.a)((function(t){return b("fetched hero id=".concat(e))})))},searchHeroes:function(e){return Object(u.a)(d).pipe(Object(m.a)((function(t){return e.trim()?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):[]})),Object(v.a)((function(t){return t.length?b('found heroes matching "'.concat(e,'"')):b('no heroes matching "'.concat(e,'"'))})))},addHero:function(e){var t=d.length>0?Math.max.apply(Math,Object(O.a)(d.map((function(e){return e.id}))))+1:11,n=Object(f.a)(Object(f.a)({},e),{},{id:t});return Object(u.a)(n).pipe(Object(v.a)((function(){if(d.length>=15)throw new Error("Limit reached")})),Object(p.a)(j("addHero limit reached")),Object(v.a)((function(e){e&&i([].concat(Object(O.a)(d),[e]))})),Object(v.a)((function(e){return b(e?"added hero w/ id=".concat(t):"addHero limit reached")})))},deleteHero:function(e){var t=d.find((function(t){return t.id===e}))||{};return Object(u.a)(t).pipe(Object(v.a)((function(){return i(Object(O.a)(d.filter((function(t){return t.id!==e}))))})),Object(v.a)((function(t){return b("deleted hero id=".concat(e))})))},updateHero:function(e){var t=d.find((function(t){return t.id===e.id})),n=Object(f.a)(Object(f.a)({},t),e);return Object(u.a)(void 0).pipe(Object(v.a)((function(){return i(d.map((function(e){return e.id===n.id?n:e})))})),Object(v.a)((function(t){return b("updated hero id=".concat(e.id))})))}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation",t=arguments.length>1?arguments[1]:void 0;return function(n){return console.error(n),b("".concat(e," failed: ").concat(n.message)),Object(u.a)(t)}},b=function(e){return n("HeroService: ".concat(e))};return Object(g.jsx)(S.Provider,{value:o,children:t})},k=(n(44),function(){var e=Object(a.useContext)(S).searchHeroes,t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(g.jsxs)("div",{className:"search","data-v-2de4e430":"",children:[Object(g.jsx)("label",{htmlFor:"search-box","data-v-2de4e430":"",children:"Hero Search"}),Object(g.jsx)("input",{id:"search-box",onChange:function(t){Object(u.a)(t.target.value).pipe(Object(j.a)(300),Object(b.a)(),Object(l.a)((function(t){return e(t)}))).subscribe((function(e){return r(e)}))},"data-v-2de4e430":""}),Object(g.jsx)("ul",{className:"search-result","data-v-2de4e430":"",children:c.map((function(e){var t=e.id,n=e.name;return Object(g.jsx)("li",{"data-v-2de4e430":"",children:Object(g.jsx)(i.b,{to:"/detail/".concat(t),"data-v-2de4e430":"",children:n})},t)}))})]})}),w=(n(50),function(){var e=Object(a.useContext)(S).getHeroes,t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){e().subscribe((function(e){return r(e)}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{"data-v-4bb3e86a":"",children:"Top Heroes"}),Object(g.jsx)("div",{className:"heroes-menu","data-v-4bb3e86a":"",children:c.slice(1,5).map((function(e){var t=e.id,n=e.name;return Object(g.jsx)(i.b,{to:"/detail/".concat(t),"data-v-4bb3e86a":"",children:n},t)}))}),Object(g.jsx)(k,{"data-v-4bb3e86a":""})]})}),F=(n(51),function(){var e=Object(a.useContext)(S),t=e.getHeroes,n=e.addHero,c=e.deleteHero,r=Object(a.useState)(""),d=Object(s.a)(r,2),o=d[0],u=d[1],j=Object(a.useState)([]),b=Object(s.a)(j,2),l=b[0],f=b[1];Object(a.useEffect)((function(){t().subscribe((function(e){return f(e)}))}),[]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{"data-v-08f184d4":"",children:"My Heroes"}),Object(g.jsxs)("div",{"data-v-08f184d4":"",children:[Object(g.jsx)("label",{htmlFor:"new-hero","data-v-08f184d4":"",children:"Hero name: "}),Object(g.jsx)("input",{name:"new-hero",value:o,onChange:function(e){var t;u(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},"data-v-08f184d4":""}),Object(g.jsx)("button",{disabled:!(null===o||void 0===o?void 0:o.trim()),className:"add-button",onClick:function(){n({name:o}).subscribe((function(e){e&&(f([].concat(Object(O.a)(l),[e])),u(""))}))},"data-v-08f184d4":"",children:"Add hero"})]}),Object(g.jsx)("ul",{className:"heroes","data-v-08f184d4":"",children:l.map((function(e){return Object(g.jsxs)("li",{"data-v-08f184d4":"",children:[Object(g.jsxs)(i.b,{to:"/detail/".concat(e.id),"data-v-08f184d4":"",children:[Object(g.jsx)("span",{className:"badge","data-v-08f184d4":"",children:e.id}),e.name]}),Object(g.jsx)("button",{className:"delete",title:"delete hero",onClick:function(){return function(e){f(null===l||void 0===l?void 0:l.filter((function(t){return t!==e}))),c(e.id).subscribe()}(e)},"data-v-08f184d4":"",children:"x"})]},e.id)}))})]})}),M=(n(52),function(){var e=Object(o.g)().id,t=Object(a.useContext)(S),n=t.getHero,c=t.updateHero,r=Object(a.useState)(),d=Object(s.a)(r,2),i=d[0],u=d[1],j=Object(a.useState)(""),b=Object(s.a)(j,2),l=b[0],O=b[1],h=Object(o.f)().goBack;Object(a.useEffect)((function(){n(+e).subscribe((function(e){u(e),O(e.name)}))}),[e]);var v=function(){return h()};return i?Object(g.jsxs)("div",{"data-v-4899d4df":"",children:[Object(g.jsxs)("h2",{"data-v-4899d4df":"",children:[i.name.toUpperCase()," Details"]}),Object(g.jsxs)("div",{"data-v-4899d4df":"",children:[Object(g.jsx)("span",{"data-v-4899d4df":"",children:"id: "}),i.id]}),Object(g.jsxs)("div",{"data-v-4899d4df":"",children:[Object(g.jsx)("label",{htmlFor:"hero-name","data-v-4899d4df":"",children:"Hero name: "}),Object(g.jsx)("input",{id:"hero-name",value:l,placeholder:"Hero name",onChange:function(e){O(e.target.value)},"data-v-4899d4df":""})]}),Object(g.jsx)("button",{onClick:function(){return v()},"data-v-4899d4df":"",children:"go back"}),Object(g.jsx)("button",{disabled:!(null===l||void 0===l?void 0:l.trim()),onClick:function(){i&&c(Object(f.a)(Object(f.a)({},i),{},{name:l})).subscribe((function(){return v()}))},"data-v-4899d4df":"",children:"save"})]}):Object(g.jsx)("p",{"data-v-4899d4df":"",children:"Loading..."})}),D=(n(53),n(54),function(){var e=Object(a.useContext)(C),t=e.messages,n=e.clear;return Object(g.jsxs)("div",{"data-v-dd963b40":"",children:[Object(g.jsx)("h2",{"data-v-dd963b40":"",children:"Messages"}),Object(g.jsx)("button",{disabled:!t.length,className:"clear",onClick:function(){return n()},"data-v-dd963b40":"",children:"Clear messages"}),t.map((function(e,t){return Object(g.jsx)("div",{"data-v-dd963b40":"",children:e},t)}))]})}),E=function(){return Object(g.jsxs)("div",{className:"app","data-v-46ef2374":"",children:[Object(g.jsx)("h1",{"data-v-46ef2374":"",children:"Tour of Heroes"}),Object(g.jsxs)("nav",{"data-v-46ef2374":"",children:[Object(g.jsx)(i.b,{to:"/dashboard","data-v-46ef2374":"",children:"Dashboard"}),Object(g.jsx)(i.b,{to:"/heroes","data-v-46ef2374":"",children:"Heroes"})]}),Object(g.jsxs)(o.c,{"data-v-46ef2374":"",children:[Object(g.jsx)(o.a,{exact:!0,path:"/","data-v-46ef2374":"",children:Object(g.jsx)(w,{"data-v-46ef2374":""})}),Object(g.jsx)(o.a,{path:"/dashboard","data-v-46ef2374":"",children:Object(g.jsx)(w,{"data-v-46ef2374":""})}),Object(g.jsx)(o.a,{path:"/heroes","data-v-46ef2374":"",children:Object(g.jsx)(F,{"data-v-46ef2374":""})}),Object(g.jsx)(o.a,{path:"/detail/:id","data-v-46ef2374":"",children:Object(g.jsx)(M,{"data-v-46ef2374":""})})]}),Object(g.jsx)(D,{"data-v-46ef2374":""})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,d=t.getTTFB;n(e),a(e),c(e),r(e),d(e)}))};n(55);d.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(H,{children:Object(g.jsx)(N,{children:Object(g.jsx)(i.a,{children:Object(g.jsx)(E,{})})})})}),document.getElementById("root")),L()}},[[56,1,2]]]);
//# sourceMappingURL=main.d8f638dc.chunk.js.map