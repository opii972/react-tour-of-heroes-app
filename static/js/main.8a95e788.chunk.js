(this["webpackJsonpreact-tour-of-heroes-app"]=this["webpackJsonpreact-tour-of-heroes-app"]||[]).push([[0],{44:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(35),d=n.n(r),i=n(12),o=n(4),s=n(7),u=n(63),j=n(62),b=n(60),l=n(61),f=n(18),O=n(17),h=n(29),v=n(57),x=n(58),m=n(59),p=n(0),g=c.a.createContext({}),C=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(s.a)(n,2),r=c[0],d=c[1],i=function(){return d([])};Object(a.useEffect)((function(){r.length>=15&&i()}),[r.length]);var o={messages:r,add:function(e){return d([].concat(Object(O.a)(r),[e]))},clear:i};return Object(p.jsx)(g.Provider,{value:o,children:t})},H=c.a.createContext({}),S=function(e){var t=e.children,n=Object(a.useContext)(g).add,c=Object(a.useState)([{id:11,name:"Dr Nice"},{id:12,name:"Narco"},{id:13,name:"Bombasto"},{id:14,name:"Celeritas"},{id:15,name:"Magneta"},{id:16,name:"RubberMan"},{id:17,name:"Dynama"},{id:18,name:"Dr IQ"},{id:19,name:"Magma"},{id:20,name:"Tornado"}]),r=Object(s.a)(c,2),d=r[0],i=r[1],o={getHeroes:function(){return Object(u.a)(d).pipe(Object(v.a)((function(e){return j("fetched heroes")})))},getHero:function(e){return Object(h.a)(d).pipe(Object(x.a)((function(t){return t.id===e})),Object(v.a)((function(t){return j("fetched hero id=".concat(e))})))},searchHeroes:function(e){return Object(u.a)(d).pipe(Object(m.a)((function(t){return e.trim()?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):[]})),Object(v.a)((function(t){return t.length?j('found heroes matching "'.concat(e,'"')):j('no heroes matching "'.concat(e,'"'))})))},addHero:function(e){var t=d.length>0?Math.max.apply(Math,Object(O.a)(d.map((function(e){return e.id}))))+1:11,n=Object(f.a)(Object(f.a)({},e),{},{id:t});return Object(u.a)(n).pipe(Object(v.a)((function(e){e&&i([].concat(Object(O.a)(d),[e]))})),Object(v.a)((function(e){return j(e?"added hero w/ id=".concat(t):"addHero limit reached")})))},deleteHero:function(e){var t=d.find((function(t){return t.id===e}))||{};return Object(u.a)(t).pipe(Object(v.a)((function(){return i(Object(O.a)(d.filter((function(t){return t.id!==e}))))})),Object(v.a)((function(t){return j("deleted hero id=".concat(e))})))},updateHero:function(e){var t=d.find((function(t){return t.id===e.id})),n=Object(f.a)(Object(f.a)({},t),e);return Object(u.a)(void 0).pipe(Object(v.a)((function(){return i(d.map((function(e){return e.id===n.id?n:e})))})),Object(v.a)((function(t){return j("updated hero id=".concat(e.id))})))}},j=function(e){return n("HeroService: ".concat(e))};return Object(p.jsx)(H.Provider,{value:o,children:t})},N=(n(44),function(){var e=Object(a.useContext)(H).searchHeroes,t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(p.jsxs)("div",{className:"search","data-v-2de4e430":"",children:[Object(p.jsx)("label",{htmlFor:"search-box","data-v-2de4e430":"",children:"Hero Search"}),Object(p.jsx)("input",{id:"search-box",onChange:function(t){Object(u.a)(t.target.value).pipe(Object(j.a)(300),Object(b.a)(),Object(l.a)((function(t){return e(t)}))).subscribe((function(e){return r(e)}))},"data-v-2de4e430":""}),Object(p.jsx)("ul",{className:"search-result","data-v-2de4e430":"",children:c.map((function(e){var t=e.id,n=e.name;return Object(p.jsx)("li",{"data-v-2de4e430":"",children:Object(p.jsx)(i.b,{to:"/detail/".concat(t),"data-v-2de4e430":"",children:n})},t)}))})]})}),k=(n(50),function(){var e=Object(a.useContext)(H).getHeroes,t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){e().subscribe((function(e){return r(e)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{"data-v-4bb3e86a":"",children:"Top Heroes"}),Object(p.jsx)("div",{className:"heroes-menu","data-v-4bb3e86a":"",children:c.slice(1,5).map((function(e){var t=e.id,n=e.name;return Object(p.jsx)(i.b,{to:"/detail/".concat(t),"data-v-4bb3e86a":"",children:n},t)}))}),Object(p.jsx)(N,{"data-v-4bb3e86a":""})]})}),F=(n(51),function(){var e=Object(a.useContext)(H),t=e.getHeroes,n=e.addHero,c=e.deleteHero,r=Object(a.useState)(""),d=Object(s.a)(r,2),o=d[0],u=d[1],j=Object(a.useState)([]),b=Object(s.a)(j,2),l=b[0],f=b[1];Object(a.useEffect)((function(){t().subscribe((function(e){return f(e)}))}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{"data-v-08f184d4":"",children:"My Heroes"}),Object(p.jsxs)("div",{"data-v-08f184d4":"",children:[Object(p.jsx)("label",{htmlFor:"new-hero","data-v-08f184d4":"",children:"Hero name: "}),Object(p.jsx)("input",{name:"new-hero",value:o,onChange:function(e){var t;u(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},"data-v-08f184d4":""}),Object(p.jsx)("button",{disabled:!(null===o||void 0===o?void 0:o.trim()),className:"add-button",onClick:function(){n({name:o}).subscribe((function(e){e&&(f([].concat(Object(O.a)(l),[e])),u(""))}))},"data-v-08f184d4":"",children:"Add hero"})]}),Object(p.jsx)("ul",{className:"heroes","data-v-08f184d4":"",children:l.map((function(e){return Object(p.jsxs)("li",{"data-v-08f184d4":"",children:[Object(p.jsxs)(i.b,{to:"/detail/".concat(e.id),"data-v-08f184d4":"",children:[Object(p.jsx)("span",{className:"badge","data-v-08f184d4":"",children:e.id}),e.name]}),Object(p.jsx)("button",{className:"delete",title:"delete hero",onClick:function(){return function(e){f(null===l||void 0===l?void 0:l.filter((function(t){return t!==e}))),c(e.id).subscribe()}(e)},"data-v-08f184d4":"",children:"x"})]},e.id)}))})]})}),M=(n(52),function(){var e=Object(o.g)().id,t=Object(a.useContext)(H),n=t.getHero,c=t.updateHero,r=Object(a.useState)(),d=Object(s.a)(r,2),i=d[0],u=d[1],j=Object(a.useState)(""),b=Object(s.a)(j,2),l=b[0],O=b[1],h=Object(o.f)().goBack;Object(a.useEffect)((function(){n(+e).subscribe((function(e){u(e),O(e.name)}))}),[e]);var v=function(){return h()};return i?Object(p.jsxs)("div",{"data-v-4899d4df":"",children:[Object(p.jsxs)("h2",{"data-v-4899d4df":"",children:[i.name.toUpperCase()," Details"]}),Object(p.jsxs)("div",{"data-v-4899d4df":"",children:[Object(p.jsx)("span",{"data-v-4899d4df":"",children:"id: "}),i.id]}),Object(p.jsxs)("div",{"data-v-4899d4df":"",children:[Object(p.jsx)("label",{htmlFor:"hero-name","data-v-4899d4df":"",children:"Hero name: "}),Object(p.jsx)("input",{id:"hero-name",value:l,placeholder:"Hero name",onChange:function(e){O(e.target.value)},"data-v-4899d4df":""})]}),Object(p.jsx)("button",{onClick:function(){return v()},"data-v-4899d4df":"",children:"go back"}),Object(p.jsx)("button",{disabled:!(null===l||void 0===l?void 0:l.trim()),onClick:function(){i&&c(Object(f.a)(Object(f.a)({},i),{},{name:l})).subscribe((function(){return v()}))},"data-v-4899d4df":"",children:"save"})]}):Object(p.jsx)("p",{"data-v-4899d4df":"",children:"Loading..."})}),w=(n(53),n(54),function(){var e=Object(a.useContext)(g),t=e.messages,n=e.clear;return Object(p.jsxs)("div",{"data-v-dd963b40":"",children:[Object(p.jsx)("h2",{"data-v-dd963b40":"",children:"Messages"}),Object(p.jsx)("button",{disabled:!t.length,className:"clear",onClick:function(){return n()},"data-v-dd963b40":"",children:"Clear messages"}),t.map((function(e,t){return Object(p.jsx)("div",{"data-v-dd963b40":"",children:e},t)}))]})}),D=function(){return Object(p.jsxs)("div",{className:"app","data-v-46ef2374":"",children:[Object(p.jsx)("h1",{"data-v-46ef2374":"",children:"Tour of Heroes"}),Object(p.jsxs)("nav",{"data-v-46ef2374":"",children:[Object(p.jsx)(i.b,{to:"/dashboard","data-v-46ef2374":"",children:"Dashboard"}),Object(p.jsx)(i.b,{to:"/heroes","data-v-46ef2374":"",children:"Heroes"})]}),Object(p.jsxs)(o.c,{"data-v-46ef2374":"",children:[Object(p.jsx)(o.a,{exact:!0,path:"/","data-v-46ef2374":"",children:Object(p.jsx)(k,{"data-v-46ef2374":""})}),Object(p.jsx)(o.a,{path:"/dashboard","data-v-46ef2374":"",children:Object(p.jsx)(k,{"data-v-46ef2374":""})}),Object(p.jsx)(o.a,{path:"/heroes","data-v-46ef2374":"",children:Object(p.jsx)(F,{"data-v-46ef2374":""})}),Object(p.jsx)(o.a,{path:"/detail/:id","data-v-46ef2374":"",children:Object(p.jsx)(M,{"data-v-46ef2374":""})})]}),Object(p.jsx)(w,{"data-v-46ef2374":""})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,d=t.getTTFB;n(e),a(e),c(e),r(e),d(e)}))};n(55);d.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(C,{children:Object(p.jsx)(S,{children:Object(p.jsx)(i.a,{children:Object(p.jsx)(D,{})})})})}),document.getElementById("root")),E()}},[[56,1,2]]]);
//# sourceMappingURL=main.8a95e788.chunk.js.map